@using Microsoft.AspNetCore.Components.Authorization
@using Microsoft.AspNetCore.Components.WebAssembly.Authentication

@inject NavigationManager Navigation
@inject ILogger<LoginDisplay> Logger;

<AuthorizeView>

    <Authorized>

        <MudText Typo="Typo.body2">Hello, @context.User.Identity?.Name!</MudText>
        <MudDivider Vertical="true" FlexItem="true" Class="m-4" />
        <MudButton EndIcon="@Icons.Material.Filled.Logout" Color="Color.Inherit" IconColor="Color.Inherit" @onclick="BeginLogOut" title="Sign out" Style="text-transform:none">Sign out</MudButton>

    </Authorized>

    <NotAuthorized>

        <MudButton EndIcon="@Icons.Material.Filled.Login" Color="Color.Inherit" IconColor="Color.Inherit" @onclick="BeginLogIn" title="Sign in" Style="text-transform:none">Sign in</MudButton>

    </NotAuthorized>
</AuthorizeView>

@code{

    public void BeginLogIn()
    {
        Navigation.NavigateToLogin("authentication/login");
    }

    public void BeginLogOut()
    {
        Navigation.NavigateToLogout("authentication/logout", "/");
    }
}
